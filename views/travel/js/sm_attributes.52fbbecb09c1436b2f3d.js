(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{CKgU:function(e,t,r){"use strict";var i=r("FuRH"),a=r("yIpb"),u=r("K79h"),o=r("oCYn"),r=r("YKMj");function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===l(e)?e:String(e)}(o.key),o)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=n(r),t=(e=o?(e=n(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=function(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var u=e.length-1;0<=u;u--)(n=e[u])&&(a=(i<3?n(a):3<i?n(t,r,a):n(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a};function y(t,r){for(var e=arguments.length,o=new Array(2<e?e-2:0),n=2;n<e;n++)o[n-2]=arguments[n];var i=t.constructor.options;i.mixins&&i.mixins.forEach(function(e){e[r]&&(e=e[r]).call.apply(e,[t].concat(o))}),i[r]&&(i=i[r]).call.apply(i,[t].concat(o))}o=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e);var r,o=p(n);function n(){var e=this,t=n;if(e instanceof t)return o.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=n,(e=[{key:"mapTargetChanged",value:function(e,t){var r;e&&t&&e!==t&&(t=t||this.firstDefaultTarget,(r=i.a.$options.getMap(t))&&this.removeMap(r,t),i.a.$options.getMap(e))&&this.loadMap(e)}},{key:"mounted",value:function(){var e=this.getTargetName();this.firstDefaultTarget=e,i.a.$options.getMap(e)&&this.loadMap(e),i.a.$on("load-map",this.loadMapSucceed),a.a.$on("delete-map",this.removeMapSucceed)}},{key:"beforeDestroy",value:function(){this.removeMap(),i.a.$off("load-map",this.loadMapSucceed),a.a.$off("delete-map",this.removeMapSucceed)}},{key:"getFirstTarget",value:function(){var e,t;for(t in i.a.$options.getAllMaps())if(t){e=t;break}return e}},{key:"getTargetName",value:function(){var e=this.$parent,e=e&&e.$options.name&&-1!==["smwebmap","smncpmap"].indexOf(e.$options.name.toLowerCase())&&e.target;return this.mapTarget||e||this.getFirstTarget()}},{key:"loadMap",value:function(e){var t=this;this.firstDefaultTarget||(this.firstDefaultTarget=e),this.map=i.a.$options.getMap(e),this.webmap=i.a.$options.getWebMap(e),this.viewModel&&"function"==typeof this.viewModel.setMap&&this.viewModel.setMap({map:this.map,webmap:this.webmap,mapTarget:e}),y(this,"loaded",this.map,e),this.$nextTick(function(){t.$emit("loaded")})}},{key:"removeMap",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.map,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getTargetName();e&&(this.viewModel&&this.viewModel.removed&&this.viewModel.removed(),y(this,"removed",e,t),this.map=null,this.webmap=null,this.firstDefaultTarget=null)}},{key:"loadMapSucceed",value:function(e,t){t===this.getTargetName()&&this.loadMap(t)}},{key:"removeMapSucceed",value:function(e){e===this.getTargetName()&&this.removeMap()}},{key:"mapNotLoadedTip",value:function(){return!this.map&&(u.a.destroy(),u.a.warning(this.$t("warning.unassociatedMap")),!0)}}])&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(o.default);s([Object(r.Prop)()],o.prototype,"mapTarget",void 0),s([Object(r.Watch)("mapTarget")],o.prototype,"mapTargetChanged",null),o=s([r.Component],o),t.a=o},K79h:function(e,t,r){"use strict";var o=r("Iv0b");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t,e){var r,o=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)),o}function n(o){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){var t,r;t=o,r=n[e=e],(e=function(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(n,e))})}return o}var u="sm-component-message",c=o.default.config;c({prefixCls:u}),o.default.config=function(e){e.prefixCls&&e.prefixCls!==u&&o.default.destroy(),c(n(n({},e),{},{prefixCls:e.prefixCls||u}))},t.a=o.default}}]);