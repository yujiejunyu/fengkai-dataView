(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{WHJJ:function(W,t,e){"use strict";e.r(t);var r=e("YKMj"),o=e("CKgU"),n=e("hdLw"),a=e.n(n),z=e("ZlC4"),D=e("VWg+"),L=e("dnTh");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===i(t)?t:String(t)}(o.key),o)}}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function A(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=s(r),e=(t=o?(t=s(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(t){var e=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t);var r,i=A(s);function s(t,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=this,n=s;if(o instanceof n)return(o=i.call(this)).features=t,o.markers=[],o.markersElement=e,o.fitBounds=r,o;throw new TypeError("Cannot call a class as a function")}return e=s,(t=[{key:"setMap",value:function(t){t=t.map;if(!t)throw new Error("map is requierd");this.map=t,this.features&&this._initalizeMarkerLayer()}},{key:"setType",value:function(t){this.markersElement=t,this._initalizeMarkerLayer()}},{key:"setFeatures",value:function(t,e,r){this.markersElement=e,this.features=t,this._initalizeMarkerLayer(r)}},{key:"_initalizeMarkerLayer",value:function(t){this.features&&"{}"!==JSON.stringify(this.features)&&(this.removed(),this._createMarker(t))}},{key:"_createMarker",value:function(){var r=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];0!==this.markersElement.length&&this.map&&this.features&&this.features.features&&0!==this.features.features.length&&(this.features.features.forEach(function(t,e){t=t.geometry.coordinates;t&&(e=new a.a.Marker(r.markersElement[e]||r.markersElement[0]).setLngLat(t).addTo(r.map),r.markers.push(e))},this),this.fitBounds)&&t&&(t=Object(D.a)(Object(L.a)(Object(z.a)(this.features),1.7)),this.fitBounds)&&this.map.fitBounds([[t[0],t[1]],[t[2],t[3]]],{maxZoom:17})}},{key:"removed",value:function(){0<this.markers.length&&this.markers.forEach(function(t){t&&t.remove()}),this.markers=[]}}])&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(a.a.Evented),J=e("qAG6");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===u(t)?t:String(t)}(o.key),o)}}var f=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,o=n;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");this.markersElement=[],this.features=t,this.options=e}var t,e,r;return t=n,(e=[{key:"setFeatures",value:function(t){this.markersElement=[],this.features=t,this.features&&this._createMarker()}},{key:"getMarkersElement",value:function(){return this.markersElement}},{key:"setMarkersTextField",value:function(t){if(this.features&&"{}"!==JSON.stringify(this.features)){this.options.textField=t;for(var e=document.getElementsByClassName("sm-component-animate-marker__name"),r=0;r<e.length;r++){var o=this.features.features[r]&&this.features.features[r].properties;o&&o[t]?e[r].innerHTML=o[t]:e[r].innerHTML=""}}}},{key:"setMarkersTextFontSize",value:function(t){this.options.textFontSize=t;for(var e=document.getElementsByClassName("sm-component-animate-marker__name-container"),r=0;r<e.length;r++)e[r].style.fontSize=t+"px"}},{key:"setMarkersTextColor",value:function(t){this.options.textColor=t;for(var e=document.getElementsByClassName("sm-component-animate-marker__name-container"),r=0;r<e.length;r++)e[r].style.color=t}},{key:"_getColorWithOpacity",value:function(t,e){return Object(J.c)(t,e)}},{key:"_getTextContainer",value:function(t,e){t.properties&&0!==Object.keys(t.properties).length&&this.options.textField&&(r=t.properties[this.options.textField]);var r,t=document.createElement("div"),o=(t.className="sm-component-animate-marker__name-container sm-component-animate-marker__name-container--".concat(e),this.options.textColor&&(t.style.color=this.options.textColor),this.options.textFontSize&&(t.style.fontSize=this.options.textFontSize+"px"),document.createElement("span"));return o.className="sm-component-animate-marker__".concat(e," sm-component-animate-marker__name"),o.innerHTML=r||"",t.appendChild(o),t}}])&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===h(t)?t:String(t)}(o.key),o)}}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function G(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=d(r),e=(t=o?(t=d(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=function(){var t=i,e=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e);var r,n=G(i);function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,o=i;if(r instanceof o)return(r=n.call(this,t,e)).features&&r._createMarker(),r;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"setMarkersWidth",value:function(t){this.options.width=t;for(var e=document.getElementsByClassName("sm-component-animate-marker__pulse"),r=0;r<e.length;r++)this._setBreathingApertureWidth(e[r].style)}},{key:"setMarkersColors",value:function(t){if((this.options.colors=t)&&t.length&&0<t.length){for(var e=document.getElementsByClassName("sm-component-animate-marker__dot-point"),r=0;r<e.length;r++)e[r].style.background=this.options.colors[0];for(var o=document.getElementsByClassName("sm-component-animate-marker__pulse"),n=0;n<o.length;n++){var i=o[n].style;i.borderColor=this.options.colors[0],i.boxShadow="0 0 12px ".concat(this.options.colors[1],", 0 0 20px ").concat(this.options.colors[1]," inset")}}}},{key:"_createMarker",value:function(){var n=this;this.features.features.forEach(function(t){var e,r=document.createElement("div"),o=(r.className="sm-component-animate-marker--breathing-aperture",document.createElement("span"));o.className="sm-component-animate-marker__dot-point",(e=n.options.colors&&n.options.colors.length&&0<n.options.colors.length?n.options.colors:e)&&(o.style.background=e[0]),r.appendChild(o);n._createMakerElement(3,"span",["sm-component-animate-marker__delay","sm-component-animate-marker__pulse"]).forEach(function(t){e&&(t.style.borderColor=e[0],t.style.boxShadow="0 0 12px ".concat(e[1],", 0 0 20px ").concat(e[1]," inset")),n._setBreathingApertureWidth(t.style),r.appendChild(t)});o=n._getTextContainer(t,"breathing-aperture-name");r.appendChild(o),n.markersElement.push(r)},this)}},{key:"_setBreathingApertureWidth",value:function(t){var e=this.options.width;e&&(t.width=e+"px",t.height=e+"px",t.top=-e/2+"px",t.left=-e/2+"px",t.borderRadius=e/2+"px")}},{key:"_createMakerElement",value:function(t,e,r){for(var o=[],n=1;n<t+1;n++){var i=document.createElement(e);i.className="".concat(r[0],"-0").concat(n," ").concat(r[1]),o.push(i)}return o}}])&&y(t.prototype,e),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}();function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===b(t)?t:String(t)}(o.key),o)}}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function q(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=w(r),e=(t=o?(t=w(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(){var t=i,e=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e);var r,n=q(i);function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,o=i;if(r instanceof o)return(r=n.call(this,t,e)).features&&r._createMarker(),r;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"setMarkersWidth",value:function(t){this.options.width=t;for(var e=document.getElementsByClassName("sm-component-animate-marker--diffused-aperture"),r=0;r<e.length;r++)e[r].style.setProperty("--container-width",t+"px")}},{key:"setMarkersColors",value:function(t){if((this.options.colors=t)&&t.length&&0<t.length)for(var e=document.getElementsByClassName("sm-component-animate-marker--diffused-aperture"),r=0;r<e.length;r++){var o=e[r].style;o.setProperty("--background-color",this.options.colors[0]),o.setProperty("--box-shadow-color",this.options.colors[1]||this.options.colors[0])}}},{key:"_createMarker",value:function(){var n=this;this.features.features.forEach(function(t){var e=document.createElement("div"),r=(e.className="sm-component-animate-marker--diffused-aperture",document.createElement("div")),o=(r.className="sm-component-animate-marker__diffused-aperture-wrapper",document.createElement("div")),o=(o.className="sm-component-animate-marker__bg",r.appendChild(o),document.createElement("div")),o=(o.className="sm-component-animate-marker__circle",r.appendChild(o),e.appendChild(r),n._getTextContainer(t,"diffused-aperture-name"));e.appendChild(o),n.options.width&&e.style.setProperty("--container-width",n.options.width+"px"),n.options.colors&&n.options.colors.length&&0<n.options.colors.length&&(e.style.setProperty("--background-color",n.options.colors[0]),e.style.setProperty("--box-shadow-color",n.options.colors[1]||n.options.colors[0])),n.markersElement.push(e)},this)}}])&&v(t.prototype,e),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),n=e("rn/G"),k=e.n(n);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===_(t)?t:String(t)}(o.key),o)}}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function U(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=P(r),e=(t=o?(t=P(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(){var t=i,e=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e);var r,n=U(i);function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,o=i;if(r instanceof o)return(r=n.call(this,t,e)).features&&r._createMarker(),r;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"setMarkersWidth",value:function(t){this.options.width=t;for(var e=document.getElementsByClassName("sm-component-animate-marker--halo-ring"),r=0;r<e.length;r++){var o=e[r].style;o.setProperty("--halo-width",this.options.width+"px"),o.setProperty("--halo-left",-this.options.width/2+"px"),o.setProperty("--box-shadow-width-1",this.options.width/10+"px"),o.setProperty("--box-shadow-width-2",this.options.width/4+"px")}}},{key:"setMarkersColors",value:function(t){if((this.options.colors=t)&&t.length&&0<t.length)for(var e=document.getElementsByClassName("sm-component-animate-marker--halo-ring"),r=0;r<e.length;r++){var o=e[r].style;o.setProperty("--color-1",this._getColorWithOpacity(this.options.colors[0],.3)),o.setProperty("--color-1-transparent",this._getColorWithOpacity(this.options.colors[0],.1)),o.setProperty("--color-2",this._getColorWithOpacity(this.options.colors[1],.3)),o.setProperty("--color-2-transparent",this._getColorWithOpacity(this.options.colors[1],.1))}}},{key:"_createMarker",value:function(){var r=this;this.features.features.forEach(function(t){var e=document.createElement("div");e.className="sm-component-animate-marker--halo-ring";r._createMakerElement(8,"div",["sm-component-animate-marker__ring","sm-component-animate-marker__halo"]).forEach(function(t){e.appendChild(t)});t=r._getTextContainer(t,"halo-ring-name");e.appendChild(t),r.options.width&&(e.style.setProperty("--halo-width",r.options.width+"px"),e.style.setProperty("--halo-left",-r.options.width/2+"px"),e.style.setProperty("--box-shadow-width-1",r.options.width/10+"px"),e.style.setProperty("--box-shadow-width-2",r.options.width/4+"px")),r.options.colors&&r.options.colors.length&&0<r.options.colors.length&&(e.style.setProperty("--color-1",r._getColorWithOpacity(k()(r.options.colors[0],"rgba",!0),.3)),e.style.setProperty("--color-1-transparent",r._getColorWithOpacity(k()(r.options.colors[0],"rgba",!0),.1)),e.style.setProperty("--color-2",r._getColorWithOpacity(k()(r.options.colors[1],"rgba",!0),.3)),e.style.setProperty("--color-2-transparent",r._getColorWithOpacity(k()(r.options.colors[1],"rgba",!0),.1))),r.markersElement.push(e)},this)}},{key:"_createMakerElement",value:function(t,e,r){for(var o=[],n=1;n<t+1;n++){var i=document.createElement(e);i.className="".concat(r[0],"-0").concat(n," ").concat(r[1]),o.push(i)}return o}}])&&O(t.prototype,e),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}();function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===j(t)?t:String(t)}(o.key),o)}}function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function X(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=S(r),e=(t=o?(t=S(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(){var t=i,e=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e);var r,n=X(i);function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,o=i;if(r instanceof o)return(r=n.call(this,t,e)).features&&r._createMarker(),r;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"setMarkersWidth",value:function(t){if(this.options.width=t,this.options.width&&!(this.options.width<40))for(var e=document.getElementsByClassName("sm-component-animate-marker--rotating-aperture"),r=0;r<e.length;r++){e[r].style.setProperty("--container-width","".concat(this.options.width,"px"));var o=e[r].children[0],n=e[r].children[1],i=e[r].children[2];o.setAttribute("style",this._getDotsStyleObj(this.options.width-32)),n.setAttribute("style",this._getDotsStyleObj(this.options.width-16)),i.setAttribute("style",this._getDotsStyleObj(this.options.width))}}},{key:"setMarkersColors",value:function(t){if((this.options.colors=t)&&t.length&&0<t.length)for(var e=document.getElementsByClassName("sm-component-animate-marker--rotating-aperture"),r=0;r<e.length;r++){var o=e[r].style;o.setProperty("--light-color",this.options.colors[1]),o.setProperty("--color",this.options.colors[0]),o.setProperty("--line-color",this._getColorWithOpacity(this.options.colors[0],.2))}}},{key:"_createMarker",value:function(){var i=this;this.features.features.forEach(function(t){var o=i.options.width&&40<=i.options.width?i.options.width:50,n=document.createElement("div");n.className="sm-component-animate-marker--rotating-aperture";i._createMakerElement(3,"div",["sm-component-animate-marker__dots","sm-component-animate-marker__dots"]).forEach(function(t,e){var r;0===e&&(r=o-32),1===e&&(r=o-16),t.setAttribute("style",i._getDotsStyleObj(r=2===e?o:r)),n.appendChild(t)});t=i._getTextContainer(t,"rotating-aperture-name");n.appendChild(t),i.options.colors&&i.options.colors.length&&0<i.options.colors.length&&-1<i.options.colors[0].indexOf("rgb")&&(n.style.setProperty("--color",i.options.colors[0]),n.style.setProperty("--line-color",i._getColorWithOpacity(i.options.colors[0],.2)),n.style.setProperty("--light-color",i.options.colors[1])),n.style.setProperty("--container-width",o+"px"),i.markersElement.push(n)},this)}},{key:"_createMakerElement",value:function(t,e,r){for(var o=[],n=1;n<t+1;n++){var i=document.createElement(e);i.className="".concat(r[0],"-0").concat(n," ").concat(r[1]),o.push(i)}return o}},{key:"_getDotsStyleObj",value:function(t){return"--dots-width: ".concat(t,"px;\n      --dots-height: ").concat(t,"px;\n      --dots-box-shadow-x: ").concat(t/2+6,"px;\n      --dots-box-shadow-x-negative: -").concat(t/2+6,"px;\n      --dots-box-shadow-radius1: ").concat(t/2-2,"px;\n      --dots-box-shadow-radius1-negative: -").concat(t/2-2,"px;\n      --dots-box-shadow-radius2: ").concat(t/2-3,"px;\n      --dots-box-shadow-radius2-negative: -").concat(t/2-3,"px;")}}])&&E(t.prototype,e),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==M(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===M(t)?t:String(t)}(o.key),o)}}function Q(t,e){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=F(r),e=(t=o?(t=F(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=function(){var t=i,e=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e);var r,n=$(i);function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,o=i;if(r instanceof o)return(r=n.call(this,t)).options=e,r.features&&r._createMarker(),r;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"setMarkersWidth",value:function(t){this.options.width=t,this._setMarkerContainerProperty({"--clip-width-1":t+t/10+"px","--clip-width-2":t+t/10-2+"px","--boder-width":t+"px","--text-left-position":-t/2+"px"})}},{key:"setMarkersHeight",value:function(t){this.options.height=t,this._setMarkerContainerProperty({"--clip-height-1":t+t/10+"px","--clip-height-2":t+t/10-2+"px","--boder-height":t+"px"})}},{key:"setMarkersTextField",value:function(t){if(this.features&&"{}"!==JSON.stringify(this.features)){this.options.textField=t;for(var e=document.getElementsByClassName("sm-component-animate-marker__text"),r=0;r<e.length;r++){var o=this.features.features[r]&&this.features.features[r].properties;o&&o[t]?e[r].innerHTML=o[t]:e[r].innerHTML=""}}}},{key:"setMarkersTextColor",value:function(t){this.options.textColor=t,this._setMarkerContainerProperty({"--text-color":t})}},{key:"setMarkersTextFontSize",value:function(t){this.options.textFontSize=t,this._setMarkerContainerProperty({"--text-font-size":t+"px"})}},{key:"setMarkersColors",value:function(t){(this.options.colors=t)&&t.length&&0<t.length&&this._setMarkerContainerProperty({"--border-color":t[0],"--box-shadow-color":t[1]})}},{key:"_createMarker",value:function(){var i=this;this.features.features.forEach(function(t){var e,r=document.createElement("div"),o=(r.className="sm-component-animate-marker--text-boder",document.createElement("div")),n=(o.className="sm-component-animate-marker__boder",Object.keys(t.properties)),t=(!t.properties&&0===Object.keys(t.properties).length||(e=t.properties[i.options.textField]||t.properties[n[0]]),document.createElement("span"));t.className="sm-component-animate-marker__text",t.innerHTML=e||"",o.appendChild(t),i.options.colors&&i.options.colors.length&&0<i.options.colors.length&&(r.style.setProperty("--border-color",i.options.colors[0]),r.style.setProperty("--box-shadow-color",i.options.colors[1])),i.options.textColor&&r.style.setProperty("--text-color",i.options.textColor),i.options.textFontSize&&r.style.setProperty("--text-font-size",i.options.textFontSize+"px"),i.options.width&&(r.style.setProperty("--clip-width-1",i.options.width+i.options.width/10+"px"),r.style.setProperty("--clip-width-2",i.options.width+i.options.width/10-2+"px"),r.style.setProperty("--boder-width",i.options.width+"px"),r.style.setProperty("--text-left-position",-i.options.width/2+"px")),i.options.height&&(r.style.setProperty("--clip-height-1",i.options.height+i.options.width/10+"px"),r.style.setProperty("--clip-height-2",i.options.height+i.options.width/10-2+"px"),r.style.setProperty("--boder-height",i.options.height+"px")),(i.options.width||100)>(i.options.width||200)?r.style.setProperty("--animation-name","clipMe2"):r.style.setProperty("--animation-name","clipMe1"),r.appendChild(o),i.markersElement.push(r)},this)}},{key:"_setMarkerContainerProperty",value:function(r){for(var t=this,o=document.getElementsByClassName("sm-component-animate-marker--text-boder"),n=0;n<o.length;n++)!function(){var e=o[n].style;Object.keys(r).forEach(function(t){e.setProperty(t,r[t])}),(t.options.height||100)>(t.options.width||200)?e.setProperty("--animation-name","clipMe2"):e.setProperty("--animation-name","clipMe1")}()}}])&&I(t.prototype,e),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==T(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===T(t)?t:String(t)}(o.key),o)}}function rt(t,e){return(rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ot(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=R(r),e=(t=o?(t=R(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=function(){var t=i,e=f;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e);var r,n=ot(i);function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,o=i;if(r instanceof o)return(r=n.call(this,t,e)).features&&r._createMarker(),r;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"setMarkersWidth",value:function(t){this.options.width=t;for(var e=document.getElementsByClassName("sm-component-animate-marker--fluorescence"),r=0;r<e.length;r++)this._setFluorescenceWidth(e[r].style)}},{key:"setMarkersColors",value:function(t){if((this.options.colors=t)&&t.length&&0<t.length)for(var e=document.getElementsByClassName("sm-component-animate-marker--fluorescence"),r=0;r<e.length;r++)this._setFluorescenceColor(e[r].style)}},{key:"_createMarker",value:function(){var o=this;this.features.features.forEach(function(t){var e=document.createElement("div"),r=(e.className="sm-component-animate-marker--fluorescence",document.createElement("div")),r=(r.className="sm-component-animate-marker__fluorescence",e.appendChild(r),o._getTextContainer(t,"fluorescence-name"));e.appendChild(r),o._setFluorescenceWidth(e.style),o._setFluorescenceColor(e.style),o.markersElement.push(e)})}},{key:"_setFluorescenceWidth",value:function(t){this.options.width&&(t.setProperty("--container-width",this.options.width/3+"px"),t.setProperty("--box-shadow-width",this.options.width+"px"))}},{key:"_setFluorescenceColor",value:function(t){this.options.colors&&0<this.options.colors.length&&(t.setProperty("--box-shadow-color",this.options.colors[0]),t.setProperty("--light-color",this.options.colors[1]))}}])&&et(t.prototype,e),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),n=e("XaGS"),it=e.n(n);function st(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===B(t)?t:String(t)}(o.key),o)}}function at(t,e){return(at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ct(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=N(r),e=(t=o?(t=N(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n=function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"===("undefined"==typeof Reflect?"undefined":B(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;0<=a;a--)(n=t[a])&&(s=(i<3?n(s):3<i?n(e,r,s):n(e,r))||s);return 3<i&&s&&Object.defineProperty(e,r,s),s},o=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&at(e,t);var r,o=ct(n);function n(){var t=this,e=n;if(t instanceof e)return(t=o.apply(this,arguments)).fitBounds=!0,t;throw new TypeError("Cannot call a class as a function")}return e=n,(t=[{key:"featuresChanged",value:function(t,e){this.viewModel&&!it()(t,e)&&(this._pointFeatures=this._getPointFeatures(this.features),this._getMarkerElement(this._pointFeatures),0<this._markersElement.length)&&this.viewModel.setFeatures(this._pointFeatures,this._markersElement,!e)}},{key:"typeChanged",value:function(){this.viewModel&&(this._pointFeatures=this._getPointFeatures(this.features),this._getMarkerElement(this._pointFeatures),0<this._markersElement.length)&&this.viewModel.setType(this._markersElement)}},{key:"widthChanged",value:function(){this.viewModel&&this.width&&this.marker&&this.marker.setMarkersWidth(this.width)}},{key:"heightChanged",value:function(){this.viewModel&&this.height&&this.marker&&this.marker.setMarkersHeight&&this.marker.setMarkersHeight(this.height)}},{key:"textColorChanged",value:function(){this.viewModel&&this.textColor&&this.marker&&this.marker.setMarkersTextColor(this.textColor)}},{key:"textFontSizeChanged",value:function(){this.viewModel&&this.textFontSize&&this.marker&&this.marker.setMarkersTextFontSize(this.textFontSize)}},{key:"colorsChanged",value:function(){this.viewModel&&this.colors&&this.colors.length&&0<this.colors.length&&this.marker&&this.marker.setMarkersColors(this.colors)}},{key:"textFieldChanged",value:function(){this.textField&&this.marker&&this.marker.setMarkersTextField(this.textField)}},{key:"created",value:function(){this._pointFeatures=this._getPointFeatures(this.features),this._getMarkerElement(this._pointFeatures),this.viewModel=new H(this._pointFeatures,this._markersElement,this.fitBounds)}},{key:"mounted",value:function(){this._markersElement=[]}},{key:"_getMarkerElement",value:function(t){this._markersElement=[],this.marker=null;var e=this.width,r=this.height,o=this.colors,n=this.textFontSize,i=this.textColor,s=this.textField;if(this.features&&"{}"!==JSON.stringify(this.features)&&this.features.features)if(0===t.features.length)this.viewModel&&this.viewModel.removed();else{switch(this.type){case"rotatingAperture":this.marker=new Y(t,{width:e,colors:o,textField:s,textColor:i,textFontSize:n});break;case"haloRing":this.marker=new V(t,{width:e,colors:o,textField:s,textColor:i,textFontSize:n});break;case"breathingAperture":this.marker=new K(t,{width:e,colors:o,textField:s,textColor:i,textFontSize:n});break;case"diffusedAperture":this.marker=new Z(t,{width:e,colors:o,textField:s,textColor:i,textFontSize:n});break;case"rotatingTextBorder":this.marker=new tt(t,{width:e,height:r,colors:o,textField:s,textColor:i,textFontSize:n});break;case"fluorescence":this.marker=new nt(t,{width:e,colors:o,textField:s,textColor:i,textFontSize:n})}this.marker&&(this._markersElement=this.marker.getMarkersElement())}else this.viewModel&&this.viewModel.removed()}},{key:"_getPointFeatures",value:function(t){var r=[];return t&&t.features&&t.features.forEach(function(t){var e=t.geometry;e&&e.coordinates&&0!==e.coordinates.length&&"Point"===e.type&&r.push(t)}),{type:"FeatureCollection",features:r}}},{key:"render",value:function(){}}])&&st(e.prototype,t),r&&st(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}(Object(r.Mixins)(o.a)),n([Object(r.Prop)()],o.prototype,"features",void 0),n([Object(r.Prop)({default:"breathingAperture"})],o.prototype,"type",void 0),n([Object(r.Prop)()],o.prototype,"width",void 0),n([Object(r.Prop)()],o.prototype,"height",void 0),n([Object(r.Prop)()],o.prototype,"colors",void 0),n([Object(r.Prop)({default:14})],o.prototype,"textFontSize",void 0),n([Object(r.Prop)()],o.prototype,"textColor",void 0),n([Object(r.Prop)()],o.prototype,"textField",void 0),n([Object(r.Prop)()],o.prototype,"fitBounds",void 0),n([Object(r.Watch)("features")],o.prototype,"featuresChanged",null),n([Object(r.Watch)("type")],o.prototype,"typeChanged",null),n([Object(r.Watch)("width")],o.prototype,"widthChanged",null),n([Object(r.Watch)("height")],o.prototype,"heightChanged",null),n([Object(r.Watch)("textColor")],o.prototype,"textColorChanged",null),n([Object(r.Watch)("textFontSize")],o.prototype,"textFontSizeChanged",null),n([Object(r.Watch)("colors")],o.prototype,"colorsChanged",null),n([Object(r.Watch)("textField")],o.prototype,"textFieldChanged",null),o=n([Object(r.Component)({name:"SmAnimateMarkerLayer"})],o),n=o,r=e("KHd+"),o=Object(r.a)(n,void 0,void 0,!1,null,null,null);t.default=o.exports}}]);