(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{Qai7:function(t,e,o){"use strict";var n=o("LMt6"),r=o("oTir"),i=o("tmJK"),a=Object.assign({},Object(n.SpinProps)()),n={name:"SmSpin",defaultComponent:n.default,mixins:[r.a,i.a],inheritAttrs:!1,props:a},r=o("KHd+"),i=Object(r.a)(n,void 0,void 0,!1,null,null,null);e.a=i.exports},b0kS:function(t,e,o){"use strict";o.r(e);var n=o("YKMj"),r=o("oCYn"),i=o("yIpb"),a=new r.default({videoCache:{},getVideo:function(t){return this.videoCache[t]},getAllVideos:function(){return this.videoCache},setVideo:function(t,e){this.videoCache[t]=e},deleteVideo:function(t){this.videoCache[t]&&(i.a.$emit("delete-video",t),delete this.videoCache[t])}}),r=o("hdLw"),u=o.n(r),r=o("9csQ"),s=o.n(r),r=o("zT9C"),c=o.n(r),l=o("8OJ3"),h=(o("/Hi2"),o("Tqys"),o("Nwvx"));function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var o;if(t)return"string"==typeof t?f(t,e):"Map"===(o="Object"===(o=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function x(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */x=function(){return a};var s,a={},t=Object.prototype,c=t.hasOwnProperty,l=Object.defineProperty||function(t,e,o){t[e]=o.value},e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function i(t,e,o){return Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(s){i=function(t,e,o){return t[e]=o}}function u(t,e,o,n){var r,i,a,u,e=e&&e.prototype instanceof m?e:m,e=Object.create(e.prototype),n=new k(n||[]);return l(e,"_invoke",{value:(r=t,i=o,a=n,u=d,function(t,e){if(u===p)throw new Error("Generator is already running");if(u===v){if("throw"===t)throw e;return{value:s,done:!0}}for(a.method=t,a.arg=e;;){var o=a.delegate;if(o){o=function t(e,o){var n=o.method,r=e.iterator[n];if(r===s)return o.delegate=null,"throw"===n&&e.iterator.return&&(o.method="return",o.arg=s,t(e,o),"throw"===o.method)||"return"!==n&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;n=h(r,e.iterator,o.arg);if("throw"===n.type)return o.method="throw",o.arg=n.arg,o.delegate=null,y;r=n.arg;return r?r.done?(o[e.resultName]=r.value,o.next=e.nextLoc,"return"!==o.method&&(o.method="next",o.arg=s),o.delegate=null,y):r:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,y)}(o,a);if(o){if(o===y)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===d)throw u=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=p;o=h(r,i,a);if("normal"===o.type){if(u=a.done?v:f,o.arg===y)continue;return{value:o.arg,done:a.done}}"throw"===o.type&&(u=v,a.method="throw",a.arg=o.arg)}})}),e}function h(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",y={};function m(){}function g(){}function b(){}var e={},w=(i(e,n,function(){return this}),Object.getPrototypeOf),w=w&&w(w(P([]))),_=(w&&w!==t&&c.call(w,n)&&(e=w),b.prototype=m.prototype=Object.create(e));function L(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function E(a,u){var e;l(this,"_invoke",{value:function(o,n){function t(){return new u(function(t,e){!function e(t,o,n,r){var i,t=h(a[t],a,o);if("throw"!==t.type)return(o=(i=t.arg).value)&&"object"==C(o)&&c.call(o,"__await")?u.resolve(o.__await).then(function(t){e("next",t,n,r)},function(t){e("throw",t,n,r)}):u.resolve(o).then(function(t){i.value=t,n(i)},function(t){return e("throw",t,n,r)});r(t.arg)}(o,n,t,e)})}return e=e?e.then(t,t):t()}})}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e||""===e){var o,t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return o=-1,(t=function t(){for(;++o<e.length;)if(c.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=s,t.done=!0,t}).next=t}throw new TypeError(C(e)+" is not iterable")}return l(_,"constructor",{value:g.prototype=b,configurable:!0}),l(b,"constructor",{value:g,configurable:!0}),g.displayName=i(b,r,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,i(t,r,"GeneratorFunction")),t.prototype=Object.create(_),t},a.awrap=function(t){return{__await:t}},L(E.prototype),i(E.prototype,o,function(){return this}),a.AsyncIterator=E,a.async=function(t,e,o,n,r){void 0===r&&(r=Promise);var i=new E(u(t,e,o,n),r);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},L(_),i(_,r,"Generator"),i(_,n,function(){return this}),i(_,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,o=Object(t),n=[];for(e in o)n.push(e);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in o)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=s)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var n=this;function t(t,e){return i.type="throw",i.arg=o,n.next=t,e&&(n.method="next",n.arg=s),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],i=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=c.call(r,"catchLoc"),u=c.call(r,"finallyLoc");if(a&&u){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;0<=o;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&c.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}var i=(r=r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc?null:r)?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),j(o),y}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var o,n,r=this.tryEntries[e];if(r.tryLoc===t)return"throw"===(o=r.completion).type&&(n=o.arg,j(r)),n}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:P(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=s),y}},a}function p(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==C(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===C(t)?t:String(t)}(n.key),n)}}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function y(o){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=g(o),e=(t=n?(t=g(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t,a,u,s){return new(u=u||Promise)(function(o,e){function n(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?o(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(n,r)}i((s=s.apply(t,a||[])).next())})},w=["draw.create","draw.delete"],_=["mousedown","mouseup","click","dblclick","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu"],L=["resize","remove","movestart","contextmenu","dblclick","click","touchcancel","touchmove","touchend","touchstart","dataloading","mousemove","mouseup","mousedown","sourcedataloading","error","data","styledata","sourcedata","mouseout","styledataloading","moveend","move","render","zoom","zoomstart","zoomend","boxzoomstart","boxzoomcancel","boxzoomend","rotate","rotatestart","rotateend","dragend","drag","dragstart","pitch","idle"],E=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t);var o,n=y(r);function r(t){var e;if(this instanceof r)return(e=n.call(this))._bindMapEventFn=e._bindMapEvent.bind(m(e)),e._bindDrawEventFn=e._bindDrawEvent.bind(m(e)),e._layerEventMap={},e.init(t),e;throw new TypeError("Cannot call a class as a function")}return e=r,(t=[{key:"init",value:function(u){return b(this,void 0,void 0,x().mark(function t(){var e,o,n,r,i,a;return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.target,o=u.url,n=u.autoplay,r=u.loop,i=u.videoWidth,a=u.videoHeight,this.id=s()("videoLayer_"),this.autoplay=n,this.loop=r,this.target=e,t.next=7,this._createMap();case 7:this.map=t.sent,this.url=o,this.add(i,a),this._bindEvents();case 11:case"end":return t.stop()}},t,this)}))}},{key:"add",value:function(t,e){var o=this;this.video=this._createVideo(),this.videoWidth=t||this.map.getCanvas().width,this.videoHeight=e||this.map.getCanvas().height,this.videoDomId=this._getVideoDom(),this.video.one("firstplay",function(){o.autoplay&&o.play()}),this.video.one("ready",function(){o._addVideoLayer(o.map)}),this.video.one("canplay",function(){setTimeout(function(){o.autoplay?o.play():o.pause()},100)})}},{key:"addControl",value:function(t,e){var o=this;this.map.addControl(t,e),w.forEach(function(t){o.map.on(t,o._bindDrawEventFn)})}},{key:"_bindDrawEvent",value:function(t){var o=this;t&&Object(h.a)(t.features[0],function(t){var e=o.transformLatLngToPoint(t);t[0]=e[0],t[1]=e[1]}),this.fire(t.type,{e:t})}},{key:"removeControl",value:function(t){var e=this;this.map.removeControl(t),w.forEach(function(t){e.map.off(t,e.__bindDrawEventFn)})}},{key:"addToMap",value:function(t){t.addTo(this.map)}},{key:"setCoordinate",value:function(t,e){if(this.originCoordsRightBottom||this.originCoordsLeftTop)return e=this.transformPointToLatLng(e),t.setLngLat(e)}},{key:"setPaintProperty",value:function(t,e,o){return this.map.setPaintProperty(t,e,o),this}},{key:"setLayoutProperty",value:function(t,e,o){return this.map.setLayoutProperty(t,e,o),this}},{key:"addLayer",value:function(t){var e=this,o=t.source,n=t.id,o=this.eachData(c()(o.data));return t.source.data=o,this.map.addLayer(t),this._layerEventMap[n]=this._bindLayerEvent.bind(this,n),_.forEach(function(t){e.map.on(t,n,e._layerEventMap[n])}),this}},{key:"_bindLayerEvent",value:function(t,e){var o;e.lngLat&&this.originCoordsRightBottom&&this.originCoordsLeftTop&&this.videoWidth&&this.videoHeight&&(o=[e.lngLat.lng,e.lngLat.lat],o=this.transformLatLngToPoint(o),e.pixelPoint=[o[0],o[1]]),this.fire(e.type,{event:e,layerId:t})}},{key:"eachData",value:function(t){var o=this;return this.originCoordsRightBottom||this.originCoordsLeftTop?(Object(h.b)(t,function(t){Object(h.a)(t,function(t){var e=c()(t);t.length=0,e.length&&t.push.apply(t,d(o.transformPointToLatLng(e)))})}),t):[]}},{key:"setData",value:function(t,e){e=this.eachData(c()(e));this.map.getSource(t).setData(e)}},{key:"removeLayer",value:function(e){var o=this;return this.map&&(this.map.removeLayer(e),_.forEach(function(t){o.map.off(t,e,o._layerEventMap[e])})),delete this._layerEventMap[e],this}},{key:"getLayer",value:function(t){return this.map.getLayer(t),this}},{key:"transformPointToLatLng",value:function(t){var e=Math.abs(this.originCoordsRightBottom.lng-this.originCoordsLeftTop.lng)/this.videoWidth,o=Math.abs(this.originCoordsRightBottom.lat-this.originCoordsLeftTop.lat)/this.videoHeight;return[t[0]*e+this.originCoordsLeftTop.lng,this.originCoordsLeftTop.lat-t[1]*o]}},{key:"transformLatLngToPoint",value:function(t){var e=Math.abs(this.originCoordsRightBottom.lng-this.originCoordsLeftTop.lng)/this.videoWidth,o=Math.abs(this.originCoordsRightBottom.lat-this.originCoordsLeftTop.lat)/this.videoHeight;return[(t[0]-this.originCoordsLeftTop.lng)/e,(this.originCoordsLeftTop.lat-t[1])/o]}},{key:"resize",value:function(){this._mapExisted()&&this.map.resize()}},{key:"_createVideo",value:function(){this._createVideoElement();var t=this._getVideoOptions();return Object(l.a)(this.id,t,function(){})}},{key:"_getVideoOptions",value:function(){var t;if(this.url)return(t={autoplay:!0,muted:!0}).loop=!1!==this.loop,-1!==this.url.indexOf("mp4")?t.sources=[{src:this.url,type:"video/mp4"}]:-1!==this.url.indexOf("flv")?t={autoplay:this.autoplay,techOrder:["html5","flvjs"],flvjs:{mediaDataSource:{isLive:!0,cors:!0,withCredentials:!1}},sources:[{src:this.url,type:"video/x-flv"}]}:-1!==this.url.indexOf("m3u8")&&(t.sources=[{src:this.url}]),t}},{key:"_getVideoDom",value:function(){var t,e;if(this.url)return-1!==this.url.indexOf("flv")?(t=document.querySelector("#".concat(this.id)),e="".concat(this.id,"_flvjs_api"),t.style.position="fixed",t.style.left="-200%"):e=this.video.el_.firstChild.id,e}},{key:"_createVideoElement",value:function(){var t=document.createElement("video");t.id=this.id,t.className="video-js",t.style.position="fixed",t.style.left="-200%",t.setAttribute("crossorigin","anonymous"),document.body.appendChild(t)}},{key:"_addVideoLayer",value:function(t){var e=this.width,o=this.height,n=this.videoWidth,r=this.videoHeight,e=this._calcCoords({width:e,height:o,videoWidth:n,videoHeight:r}).map(function(t){return[t.lng,t.lat]}),o=this.videoDomId||this.url;t.addSource(this.id,{type:"video",urls:[o],coordinates:e}),1<=t.getStyle().layers.length&&(this.beforeLayerId=t.getStyle().layers[0].id),t.addLayer({id:this.id,type:"raster",source:this.id},this.beforeLayerId),this._afterAddVideoLayer()}},{key:"_afterAddVideoLayer",value:function(){this.fire("videolayeradded",{originCoordsRightBottom:this.originCoordsRightBottom,originCoordsLeftTop:this.originCoordsLeftTop}),this.fire("load",{videoPlus:this,map:this.map})}},{key:"_calcCoords",value:function(t){var e=this,o=t.width,n=t.height,r=t.videoWidth,t=t.videoHeight,i=Math.min(r/o,t/n),o=o/2,n=n/2,r=r/i/2,t=t/i/2,i=[[o-r,n-t],[o+r,n-t],[o+r,n+t],[o-r,n+t]].map(function(t){return e.map.unproject(t)});return this.originCoordsLeftTop=i[0],this.originCoordsRightBottom=i[2],i}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"changeVideoSize",value:function(t,e){var o=this.width,n=this.height;o&&n&&this.map&&(o=this._calcCoords({width:o,height:n,videoWidth:t,videoHeight:e}).map(function(t){return[t.lng,t.lat]}),this.map.getSource(this.id))&&this.map.getSource(this.id).setCoordinates(o)}},{key:"_createMap",value:function(){var n=this;return new Promise(function(t){var e=new u.a.Map({container:n.target,style:{version:8,sources:{},layers:[]},renderWorldCopies:!1,center:[0,0],zoom:8}),o=e.getContainer();n.width=o.clientWidth||400,n.height=o.clientHeight||300,e.on("load",function(){t(e)})})}},{key:"removed",value:function(){this.id&&this.map&&(this.map.getLayer(this.id)&&this.map.removeLayer(this.id),this.map.getSource(this.id))&&this.map.removeSource(this.id),this._clearEvents(),this._mapExisted()&&(this.map.remove(),this.map=null),this.video=null,this._layerEventMap=null}},{key:"_mapExisted",value:function(){return!!this.map}},{key:"_bindEvents",value:function(){var e=this;L.forEach(function(t){e.map.on(t,e._bindMapEventFn)})}},{key:"_clearEvents",value:function(){var e=this;L.forEach(function(t){e.map.off(t,e._bindMapEventFn)})}},{key:"_bindMapEvent",value:function(t){var e;t.lngLat&&this.originCoordsRightBottom&&this.originCoordsLeftTop&&this.videoWidth&&this.videoHeight&&(e=[t.lngLat.lng,t.lngLat.lat],e=this.transformLatLngToPoint(e),t.pixelPoint=[e[0],e[1]]),this.fire(t.type,{event:t})}}])&&p(e.prototype,t),o&&p(e,o),Object.defineProperty(e,"prototype",{writable:!1}),r}(u.a.Evented),r=o("Qai7");function O(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==S(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==S(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===S(t)?t:String(t)}(n.key),n)}}function j(t,e){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function k(o){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=P(o),e=(t=n?(t=P(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var T=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var u=t.length-1;0<=u;u--)(r=t[u])&&(a=(i<3?r(a):3<i?r(e,o,a):r(e,o))||a);return 3<i&&a&&Object.defineProperty(e,o,a),a},M=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t);var o,n=k(r);function r(){var t=this,e=r;if(t instanceof e)return(t=n.apply(this,arguments)).viewModel=null,t.spinning=!0,t.innerAutoplay=!1,t;throw new TypeError("Cannot call a class as a function")}return e=r,(t=[{key:"playChanged",value:function(t){t?this.viewModel.play():(this.viewModel.pause(),this.innerAutoplay=!1)}},{key:"srcChanged",value:function(){this.viewModel&&this.viewModel.removed(),this.createVideoPlus()}},{key:"videoWidthChanged",value:function(t,e){t!==e&&this.viewModel&&this.viewModel.changeVideoSize(t,this.videoHeight)}},{key:"videoHeightChanged",value:function(t,e){t!==e&&this.viewModel&&this.viewModel.changeVideoSize(this.videoWidth,t)}},{key:"style",get:function(){return{width:"100%",height:"100%"}}},{key:"loaded",get:function(){return this.spinning&&this.url}},{key:"created",value:function(){this.innerAutoplay=this.autoplay}},{key:"mounted",value:function(){this.createVideoPlus()}},{key:"createVideoPlus",value:function(){var t=this.target,e=this.url,o=this.loop,n=this.videoWidth,r=this.videoHeight;this.viewModel=new E({target:t,url:e,videoWidth:n,videoHeight:r,autoplay:this.innerAutoplay,loop:o}),this._bindEvents()}},{key:"resize",value:function(){this.viewModel&&this.viewModel.resize&&this.viewModel.resize()}},{key:"_bindEvents",value:function(){var e=this;Object.keys(this.$listeners).forEach(function(t){-1!==L.indexOf(t)&&e.viewModel.on(t,e._bindMapEvent)}),this.viewModel.on("load",function(t){e.spinning=!1,a.$options.setVideo(e.target,t.videoPlus),a.$emit("load-video",t.videoPlus,e.target),e.load({videoPlus:t.videoPlus})})}},{key:"_bindMapEvent",value:function(t){t.layerId||this.$emit(t.type,t.event)}},{key:"_clearEvents",value:function(){var e=this;L.forEach(function(t){e.viewModel.off(t,e._bindMapEvent)})}},{key:"beforeDestroy",value:function(){this._clearEvents()}},{key:"destroyed",value:function(){this.viewModel.removed(),a.$options.deleteVideo(this.target)}},{key:"load",value:function(t){return t}}])&&O(e.prototype,t),o&&O(e,o),Object.defineProperty(e,"prototype",{writable:!1}),r}(n.Vue),T=(T([Object(n.Prop)({default:"video"})],M.prototype,"target",void 0),T([Object(n.Prop)()],M.prototype,"url",void 0),T([Object(n.Prop)()],M.prototype,"videoWidth",void 0),T([Object(n.Prop)()],M.prototype,"videoHeight",void 0),T([Object(n.Prop)({default:!1})],M.prototype,"loop",void 0),T([Object(n.Prop)({default:!1})],M.prototype,"play",void 0),T([Object(n.Prop)({default:!1})],M.prototype,"autoplay",void 0),T([Object(n.Watch)("play")],M.prototype,"playChanged",null),T([Object(n.Watch)("url")],M.prototype,"srcChanged",null),T([Object(n.Watch)("videoWidth")],M.prototype,"videoWidthChanged",null),T([Object(n.Watch)("videoHeight")],M.prototype,"videoHeightChanged",null),T([Object(n.Emit)()],M.prototype,"load",null),M=T([Object(n.Component)({name:"SmVideoPlus",components:{SmSpin:r.a}})],M),M),n=o("KHd+"),r=Object(n.a)(T,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"sm-component-video-plus",style:t.style,attrs:{id:t.target}},[t._t("default"),t._v(" "),t.loaded?e("sm-spin",{attrs:{size:"large",tip:t.$t("videoPlus.loadingTip"),spinning:t.spinning}}):t._e()],2)},[],!1,null,null,null);e.default=r.exports}}]);